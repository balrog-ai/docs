

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>In-Context-Learning benchmark for LLM agents &mdash; BALROG 1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=29a6c3e3"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            BALROG
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="evaluation.html">Evaluation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="evaluation.html#quickstart">‚ö° Quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="evaluation.html#evaluate-using-local-vllm-server">Evaluate using local vLLM server</a></li>
<li class="toctree-l2"><a class="reference internal" href="evaluation.html#evaluate-using-api">Evaluate using API</a></li>
<li class="toctree-l2"><a class="reference internal" href="evaluation.html#vlm-mode">üñºÔ∏è VLM mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="evaluation.html#resume-an-evaluation">‚ñ∂Ô∏è Resume an evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="evaluation.html#configuring-eval">‚öôÔ∏è Configuring Eval</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="agents.html">Agents</a><ul>
<li class="toctree-l2"><a class="reference internal" href="agents.html#pre-built-agents">Pre-built agents</a></li>
<li class="toctree-l2"><a class="reference internal" href="agents.html#creating-custom-agents">ü§ñ Creating Custom Agents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="agents.html#simple-planning-agent">Simple Planning Agent</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributions.html">Contributions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Environments</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="envs/babyai.html">Baby AI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="envs/babyai.html#babyai-text">BabyAI-Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="envs/babyai.html#babyai-results">BabyAI Results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="envs/babyai.html#llm-results">LLM results</a></li>
<li class="toctree-l3"><a class="reference internal" href="envs/babyai.html#vlm-results">VLM results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="envs/babyai.html#observations">Observations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="envs/crafter.html">Crafter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="envs/crafter.html#crafter-results">Crafter Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="envs/crafter.html#llm-results">LLM results</a></li>
<li class="toctree-l2"><a class="reference internal" href="envs/crafter.html#vlm-results">VLM results</a></li>
<li class="toctree-l2"><a class="reference internal" href="envs/crafter.html#observations">Observations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="envs/textworld.html">TextWorld</a><ul>
<li class="toctree-l2"><a class="reference internal" href="envs/textworld.html#tasks">Tasks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="envs/textworld.html#treasure-hunter">Treasure Hunter</a></li>
<li class="toctree-l3"><a class="reference internal" href="envs/textworld.html#the-cooking-game">The Cooking Game</a></li>
<li class="toctree-l3"><a class="reference internal" href="envs/textworld.html#coin-collector">Coin Collector</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="envs/textworld.html#textworld-results">TextWorld Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="envs/textworld.html#observations">Observations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="envs/babaisai.html">Baba Is AI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="envs/babaisai.html#baba-is-ai-language-wrapper">Baba Is AI Language Wrapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="envs/babaisai.html#baba-is-ai-results">Baba Is AI Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="envs/babaisai.html#llm-results">LLM results</a></li>
<li class="toctree-l2"><a class="reference internal" href="envs/babaisai.html#vlm-results">VLM results</a></li>
<li class="toctree-l2"><a class="reference internal" href="envs/babaisai.html#observations">Observations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="envs/minihack.html">MiniHack</a><ul>
<li class="toctree-l2"><a class="reference internal" href="envs/minihack.html#llm-results">LLM results</a></li>
<li class="toctree-l2"><a class="reference internal" href="envs/minihack.html#vlm-results">VLM results</a></li>
<li class="toctree-l2"><a class="reference internal" href="envs/minihack.html#observations">Observations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="envs/nle.html">NetHack Learning Environment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="envs/nle.html#nethack-language-wrapper">NetHack Language Wrapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="envs/nle.html#new-nethack-progression-system">New NetHack Progression System</a></li>
<li class="toctree-l2"><a class="reference internal" href="envs/nle.html#nethack-results">NetHack Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="envs/nle.html#llm-results">LLM results</a></li>
<li class="toctree-l2"><a class="reference internal" href="envs/nle.html#vlm-results">VLM results</a></li>
<li class="toctree-l2"><a class="reference internal" href="envs/nle.html#observation">Observation</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/modules.html">iclbench</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api/iclbench.html">iclbench package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api/iclbench.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.agents.html">iclbench.agents package</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.environments.html">iclbench.environments package</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.prompt_builder.html">iclbench.prompt_builder package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/iclbench.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/iclbench.html#module-iclbench.client">iclbench.client module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.html#iclbench.client.ClaudeWrapper"><code class="docutils literal notranslate"><span class="pre">ClaudeWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.html#iclbench.client.GoogleGenerativeAIWrapper"><code class="docutils literal notranslate"><span class="pre">GoogleGenerativeAIWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.html#iclbench.client.LLMClientWrapper"><code class="docutils literal notranslate"><span class="pre">LLMClientWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.html#iclbench.client.LLMResponse"><code class="docutils literal notranslate"><span class="pre">LLMResponse</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.html#iclbench.client.OpenAIWrapper"><code class="docutils literal notranslate"><span class="pre">OpenAIWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.html#iclbench.client.ReplicateWrapper"><code class="docutils literal notranslate"><span class="pre">ReplicateWrapper</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.html#iclbench.client.create_llm_client"><code class="docutils literal notranslate"><span class="pre">create_llm_client()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.html#iclbench.client.process_image_claude"><code class="docutils literal notranslate"><span class="pre">process_image_claude()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.html#iclbench.client.process_image_openai"><code class="docutils literal notranslate"><span class="pre">process_image_openai()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/iclbench.html#module-iclbench.dataset">iclbench.dataset module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.html#iclbench.dataset.InContextDataset"><code class="docutils literal notranslate"><span class="pre">InContextDataset</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.html#iclbench.dataset.choice_excluding"><code class="docutils literal notranslate"><span class="pre">choice_excluding()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.html#iclbench.dataset.natural_sort_key"><code class="docutils literal notranslate"><span class="pre">natural_sort_key()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/iclbench.html#module-iclbench.evaluator">iclbench.evaluator module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.html#iclbench.evaluator.Evaluator"><code class="docutils literal notranslate"><span class="pre">Evaluator</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/iclbench.html#module-iclbench.utils">iclbench.utils module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.html#iclbench.utils.load_secrets"><code class="docutils literal notranslate"><span class="pre">load_secrets()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.html#iclbench.utils.setup_environment"><code class="docutils literal notranslate"><span class="pre">setup_environment()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.html#iclbench.utils.summarize_env_progressions"><code class="docutils literal notranslate"><span class="pre">summarize_env_progressions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/iclbench.html#iclbench.utils.wandb_save_artifact"><code class="docutils literal notranslate"><span class="pre">wandb_save_artifact()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/iclbench.html#module-iclbench">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">BALROG</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">In-Context-Learning benchmark for LLM agents</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="in-context-learning-benchmark-for-llm-agents">
<h1>In-Context-Learning benchmark for LLM agents<a class="headerlink" href="#in-context-learning-benchmark-for-llm-agents" title="Link to this heading">ÔÉÅ</a></h1>
<p><img alt="Alt text" src="_images/balrog.jpg" /></p>
<p>Welcome to BALROG, a high-quality, easy to enter benchmark for LLM agents, testing their in-context-learning capabilities on a variety of interactive environments.</p>
<p><a class="reference external" href="https://balrogai.com">See the leaderboard!</a></p>
</section>
<section id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Link to this heading">ÔÉÅ</a></h1>
<!-- digraph G {
    rankdir=TB;
    ranksep=1.0; // Increase vertical space between ranks
    nodesep=1.0; // Increase horizontal space between nodes

    // Define nodes
    Environment [label="Environment" shape=box];
    LLM [label="LLM Server" shape=box];
    Client [label="LLM Client" shape=box style=dashed];

    // Group Client within Agent
    subgraph cluster_agent {
        label="Agent";
        Agent[shape="none"][style="invis"][label=""];
        Client;
    }

    // Define edges
    Client -> LLM [label="prompt"];
    LLM -> Client [label="response"];

    // Define interactions between Agent (cluster) and Environment
    Environment -> Agent [label="observation" ltail="cluster_agent"];
    Agent -> Environment [label="action" ltail="cluster_agent"];
} -->
<p><img alt="Alt text" src="_images/overview.png" /></p>
<p>AgentQuest is a benchmark and framework that aims to improve our understanding of
whether existing long-context LLMs are agentic, i.e., whether they can
be used to automate complex activities that require sequential
decision-making. It supports model evaluation on challenging
reinforcement learning environments that test skills such as long-term
planning, spatial reasoning, and the ability to deduce the mechanics of
the environment.</p>
<p>By design, the framework explicitly decouples inference-time prompting
strategies from underlying models. The goal of this design choice is
two-fold: (1) to facilitate rapid prototyping of inference-time methods
for improving model performance on long-context decision-making beyond
zero-shot prompting and (2) to ensure that model evaluations are
consistent and rigorous.</p>
<p>In the remainder of this section, we introduce the game environments
evaluated in the benchmark and we discuss our protocols for model
submission to the Benchmark Leaderboard.</p>
<section id="environments">
<h2>Environments<a class="headerlink" href="#environments" title="Link to this heading">ÔÉÅ</a></h2>
<p><strong>BabyAI.</strong>¬†A simple,
two-dimensional grid-world in which the agent has to solve tasks of
varying complexity described in natural language (e.g., ‚Äúgo to the blue
ball, then pick up the grey key‚Äù). Agents are tested across five
different types of navigation tasks.</p>
<p><strong>Crafter.</strong>¬†A Minecraft-inspired grid
environment where the player has to explore, gather resources and craft
items to ensure their survival. Agents are evaluated based on the number
of achieved milestones, such as discovering new resources and crafting
tools.</p>
<p><strong>TextWorld.</strong> An entirely text-based game with no
visual component, where the agent has to explore mazes and interact with
everyday objects through natural language (e.g., ‚Äúcook potato with
oven‚Äù). Unlike the other environments in AgentBench, TextWorld is not a
grid-world. Models are evaluated on three different tasks.</p>
<p><strong>Baba Is AI.</strong> An environment based on the popular
puzzle video game <em>Baba Is You</em>. The player manipulates the rules of the
game world by pushing word blocks, altering how objects interact. Agents
are tested on 40 puzzles.</p>
<p><strong>MiniHack.</strong> MiniHack is a multi-task
framework built on top of the NetHack Learning
Environment. We select four different tasks,
Corridor, CorridorBattle, Boxoban, and Quest. Collectively, they assess
a wide range of skills, including exploration, navigation, long-term
planning, and resource management.</p>
<p><strong>NetHack Learning Environment (NLE)</strong> is based on
the classic roguelike game NetHack, known for its extreme difficulty and
complexity. Success in NetHack demands both long-term strategic
planning, since a winning game can involve hundreds of thousands of
steps, as well as short-term tactics to fight hordes of monsters.
Accurate credit assignment is also crucial to understanding which
actions contributed to success or failure. It takes human players years
to master NetHack without accessing external guides.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Skills</strong></p></th>
<th class="head"><p><strong>BabyAI</strong></p></th>
<th class="head"><p><strong>TextWorld</strong></p></th>
<th class="head"><p><strong>Crafter</strong></p></th>
<th class="head"><p><strong>Baba Is AI</strong></p></th>
<th class="head"><p><strong>MiniHack</strong></p></th>
<th class="head"><p><strong>NLE</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Navigation</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
</tr>
<tr class="row-odd"><td><p>Exploration</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
</tr>
<tr class="row-even"><td><p>Resource Management</p></td>
<td><p>‚ùå</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚ùå</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
</tr>
<tr class="row-odd"><td><p>Complex Credit Assignment</p></td>
<td><p>‚ùå</p></td>
<td><p>‚ùå</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
</tr>
<tr class="row-even"><td><p>Deducing Env. Dynamics</p></td>
<td><p>‚ùå</p></td>
<td><p>‚ùå</p></td>
<td><p>‚ùå</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
</tr>
<tr class="row-odd"><td><p>Long-term Planning</p></td>
<td><p>‚ùå</p></td>
<td><p>‚ùå</p></td>
<td><p>‚ùå</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
<td><p>‚úÖ</p></td>
</tr>
<tr class="row-even"><td><p><strong>Turns to Complete</strong></p></td>
<td><p>10¬π</p></td>
<td><p>10¬≤</p></td>
<td><p>10¬≤</p></td>
<td><p>10¬≤</p></td>
<td><p>10¬≥</p></td>
<td><p>10‚Å¥‚Äì10‚Åµ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Time to Master for Humans</strong></p></td>
<td><p>Seconds</p></td>
<td><p>Minutes</p></td>
<td><p>Hours</p></td>
<td><p>Hours</p></td>
<td><p>Hours</p></td>
<td><p>Years</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="structure">
<h1>Structure:<a class="headerlink" href="#structure" title="Link to this heading">ÔÉÅ</a></h1>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ICL-bench
‚îú‚îÄ‚îÄ README.md               # Documentation of the repository
‚îú‚îÄ‚îÄ config/                 # Config folder
‚îÇ   ‚îú‚îÄ‚îÄ eval.yaml           # Base evaluation config file
‚îú‚îÄ‚îÄ iclbench/               # Main code of the 
‚îÇ   ‚îú‚îÄ‚îÄ agents/             # Agent implementations with LangChain (naive agent for now)
‚îÇ   ‚îú‚îÄ‚îÄ environments/       # Environments folder with a unified env loader
‚îÇ   ‚îî‚îÄ‚îÄ prompt_builder/     # History, Zero-shot, and VLM prompt builders
‚îÇ   ‚îú‚îÄ‚îÄ evaluator.py        # File with main evaluator class
‚îú‚îÄ‚îÄ external/               # External submodules
‚îÇ   ‚îú‚îÄ‚îÄ nle-language-wrap   # Modified language wrapper (to be moved inside nle in environments)
‚îî‚îÄ‚îÄ eval.py                 # Entry point of the benchmark
</pre></div>
</div>
<div class="toctree-wrapper compound" id="sec-gs">
</div>
<div class="toctree-wrapper compound" id="sec-envs">
</div>
<div class="toctree-wrapper compound" id="sec-api">
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-right" title="Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, BALROG Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>